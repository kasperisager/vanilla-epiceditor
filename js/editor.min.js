!function(t,e){e.Editor=e.Editor||function(e){this.options={textarea:".js-text-box"},e&&t.extend(this.options,e)},Editor.prototype.attachEditor=function(e){var i=t(e);if(!i.data("editor")){var o=t('<div class="js-editor"></div>');i.after(o);var r=new EpicEditor({container:o[0],textarea:e,parser:marked,autogrow:!0,basePath:gdn.url("/plugins/epiceditor"),theme:{base:"/design/editor.css",preview:"/design/editor-preview.css",editor:"/design/editor-theme.css"},clientSideStorage:!1,useNativeFullscreen:!1});i.data("editor",r),r.load(function(){i.hide().addClass("Hidden")})}},Editor.prototype.attachEditorHandler=function(){var e=this;t(this.options.textarea).each(function(){e.attachEditor(this)})},Editor.prototype.clearEditor=function(e){var i=t(e).data("editor");i.importFile("")},Editor.prototype.clearEditorHandler=function(e){var i=this;t(this.options.textarea,e.target).each(function(){i.clearEditor(this)})}}(jQuery,window,document);
!function(o,n,e){var r=["ready","EditCommentFormLoaded"],t=["clearCommentForm"],d=new Editor({textarea:".TextBox"});o(e).on(r.join(" "),d.attachEditorHandler.bind(d)).on(t.join(" "),d.clearEditorHandler.bind(d)),o.fn.autogrow=o.noop}(jQuery,window,document);